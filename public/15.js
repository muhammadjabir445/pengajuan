(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{241:function(t,n,e){"use strict";var a=e(78);e.n(a).a},242:function(t,n,e){(t.exports=e(11)(!1)).push([t.i,"\n.sembunyi[data-v-4943f744] {\n    display: none;\n}\n.tampil[data-v-4943f744] {\n    display: block;\n}\n.list-barang[data-v-4943f744]{\n    background-color:white;\n    position:relative;\n    left:0px;\n    bottom:30px;\n    width:100%;\n    -webkit-box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);\n    -moz-box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);\n    box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);\n    z-index: 100;\n}\n.list-barang ul li[data-v-4943f744] {\n\n    padding-top: 15px;\n    padding-bottom: 15px;\n    padding-left: 10px;\n}\n.list-barang ul[data-v-4943f744] {\n    list-style: none;\n    padding: 0px;\n}\n.list-barang ul li[data-v-4943f744]:hover {\n    cursor:pointer;\n     background-color:rgb(233, 233, 233);\n}\n",""])},273:function(t,n,e){"use strict";e.r(n);var a=e(1),r=e.n(a),i=e(57),s=e(0);function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function l(t,n,e,a,r,i,s){try{var o=t[i](s),u=o.value}catch(t){return void e(t)}o.done?n(u):Promise.resolve(u).then(a,r)}var c,d,p={name:"masterdata.edit",mixins:[i.a],methods:{save:(c=r.a.mark((function t(){var n,e,a=this;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,n=(n=window.location.pathname).split("/"),n="".concat(n[1],"/").concat(n[2]),(e=new FormData).append("barang",this.barang),e.append("user",this.user),e.append("id_lantai",this.id_lantai),e.append("id_ruangan",this.id_ruangan),e.append("detail",this.detail),e.append("status",this.status),e.append("foto",this.foto_inventori),e.append("_method","PUT"),t.next=15,this.axios.post(n,e,this.config).then((function(t){a.setSnakbar({status:!0,pesan:t.data.message,color_snakbar:"success"}),a.$router.go(-1)})).catch((function(t){400==t.response.status?a.setSnakbar({color_snakbar:"red",status:!0,pesan:t.response.data.message}):a.setSnakbar({status:!0,color_snakbar:"red",pesan:"Terjadi Kesalahan"}),console.log(t.response)}));case 15:this.loading=!1;case 16:case"end":return t.stop()}}),t,this)})),d=function(){var t=this,n=arguments;return new Promise((function(e,a){var r=c.apply(t,n);function i(t){l(r,e,a,i,s,"next",t)}function s(t){l(r,e,a,i,s,"throw",t)}i(void 0)}))},function(){return d.apply(this,arguments)}),go_edit:function(){var t=this,n=window.location.pathname;this.axios.get(n,this.config).then((function(n){console.log(n);var e=n.data.inventori;t.barang=e.barang,t.user=e.user,t.status=e.status,t.lantais=n.data.lantai,t.ruangans=n.data.ruangan,t.detail=e.detail;var a=t.ruangans.find((function(t){return t.ruangan===e.ruangan})),r=t.lantais.find((function(t){return t.lantai===e.lantai}));t.id_lantai=r.id,t.id_ruangan=a.id,t.lantaiChange(r.id)})).catch((function(t){return console.log(t.response)}))}},computed:function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){u(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},Object(s.c)({user:"auth/user"})),created:function(){this.go_edit()}},f=(e(241),e(2)),g=Object(f.a)(p,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-app",[e("v-container",[e("BtnJudul",{attrs:{text:"Tambah Inventori Barang"}}),t._v(" "),e("v-card",{style:t.border,attrs:{tile:""}},[e("v-card-text",[e("v-container",[e("v-form",{ref:"form",attrs:{"lazy-validation":t.lazy},model:{value:t.valid,callback:function(n){t.valid=n},expression:"valid"}},[e("div",{staticStyle:{position:"relative",width:"100%"}},[e("v-text-field",{staticStyle:{position:"relative"},attrs:{outlined:"",rules:t.nameRules,label:"Nama barang",required:""},on:{keyup:t.get_barang},model:{value:t.barang,callback:function(n){t.barang=n},expression:"barang"}}),t._v(" "),t.barangs.length>0?e("div",{staticClass:"list-barang"},[e("ul",t._l(t.barangs,(function(n){return e("li",{key:n.id,on:{click:function(e){return t.select_barang(n.nama)}}},[t._v(t._s(n.nama))])})),0)]):t._e()],1),t._v(" "),23==t.user.id_role||37==t.user.id_role?e("div",{staticStyle:{position:"relative",width:"100%"}},[e("v-text-field",{staticStyle:{position:"relative"},attrs:{outlined:"",rules:t.nameRules,label:"Penanggung Jawab",required:""},on:{keyup:t.getUser},model:{value:t.user,callback:function(n){t.user=n},expression:"user"}}),t._v(" "),t.users.length>0?e("div",{staticClass:"list-barang"},[e("ul",t._l(t.users,(function(n){return e("li",{key:n.id,on:{click:function(e){return t.select_user(n.name)}}},[t._v(t._s(n.name))])})),0)]):t._e()],1):t._e(),t._v(" "),e("v-text-field",{attrs:{outlined:"",rules:t.nameRules,label:"Detail barang",required:""},model:{value:t.detail,callback:function(n){t.detail=n},expression:"detail"}}),t._v(" "),e("v-select",{attrs:{items:t.lantais,rules:[function(t){return!!t||"Item is required"}],label:"Lantai","item-text":"lantai","item-value":"id",required:""},on:{change:function(n){return t.lantaiChange(t.id_lantai)}},model:{value:t.id_lantai,callback:function(n){t.id_lantai=n},expression:"id_lantai"}}),t._v(" "),e("v-select",{attrs:{items:t.ruangan_filter,rules:[function(t){return!!t||"Item is required"}],label:"Ruangan","item-text":"ruangan","item-value":"id",required:""},model:{value:t.id_ruangan,callback:function(n){t.id_ruangan=n},expression:"id_ruangan"}}),t._v(" "),e("v-select",{attrs:{items:t.status_pilihan,label:"Status","item-text":"text","item-value":"value"},model:{value:t.status,callback:function(n){t.status=n},expression:"status"}}),t._v(" "),e("input",{attrs:{type:"file"},on:{change:t.eventChange}}),t._v(" "),t.imgurl?e("v-img",{attrs:{src:t.imgurl,width:"100%",height:"300px"}}):t._e(),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12",align:"right"}},[e("v-btn",{attrs:{disabled:!t.valid,color:"success",tile:"",loading:t.loading},on:{click:function(n){return t.save()}}},[t._v("\n                            Simpan\n                            ")])],1)],1)],1)],1)],1),t._v(" "),e("v-card-actions",{})],1)],1)],1)}),[],!1,null,"4943f744",null);n.default=g.exports},57:function(t,n,e){"use strict";var a,r,i=e(1),s=e.n(i),o=e(0),u=e(7);function l(t,n,e,a,r,i,s){try{var o=t[i](s),u=o.value}catch(t){return void e(t)}o.done?n(u):Promise.resolve(u).then(a,r)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(a,r){var i=t.apply(n,e);function s(t){l(i,a,r,s,o,"next",t)}function o(t){l(i,a,r,s,o,"throw",t)}s(void 0)}))}}function d(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function p(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}n.a={data:function(){return{valid:!0,lazy:!1,loading:!1,barang:"",user:"",id_lantai:"",id_ruangan:"",detail:"",lantais:[],ruangans:[],barangs:[],ruangan_filter:[],users:[],foto_inventori:"",imgurl:"",nameRules:[function(t){return!!t||"Tidak Boleh Kosong"}],status:"",status_pilihan:[{value:0,text:"Baik"},{value:1,text:"Rusak"}]}},methods:function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?d(Object(e),!0).forEach((function(n){p(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},Object(o.b)({setSnakbar:"snakbar/setSnakbar"}),{getLantaiRuangan:function(){var t=this;this.axios.get("/inventori/create",this.config).then((function(n){t.lantais=n.data.lantai,t.ruangans=n.data.ruangan})).catch((function(t){return console.log(t)}))},lantaiChange:function(t){this.ruangan_filter=this.ruangans.filter((function(n){return n.id_lantai===t}))},getUser:(r=c(s.a.mark((function t(){var n=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("users?keyword="+this.user,this.config).then((function(t){n.users=t.data.data})).catch((function(t){console.log(t.response)}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)}),get_barang:(a=c(s.a.mark((function t(){var n=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.axios.get("pengajuan/create?keyword="+this.barang,this.config).then((function(t){t.data.barang.length>0?n.barangs=t.data.barang:n.barangs=[]})).catch((function(t){console.log(t.response)}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)}),select_barang:function(t){this.barang=t,this.barangs=[]},select_user:function(t){this.user=t,this.users=[]},eventChange:function(t){var n=this,e=t.target.files;this.foto_inventori=e[0];var a=new FileReader;a.addEventListener("load",(function(){n.imgurl=a.result})),a.readAsDataURL(this.foto_inventori)}}),mixins:[u.a],created:function(){}}},78:function(t,n,e){var a=e(242);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(12)(a,r);a.locals&&(t.exports=a.locals)}}]);