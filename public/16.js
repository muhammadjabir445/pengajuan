(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{237:function(t,e,n){"use strict";var a=n(76);n.n(a).a},238:function(t,e,n){(t.exports=n(11)(!1)).push([t.i,"\n.sembunyi[data-v-53f30af0] {\n    display: none;\n}\n.tampil[data-v-53f30af0] {\n    display: block;\n}\n.list-barang[data-v-53f30af0]{\n    background-color:white;\n    position:relative;\n    left:0px;\n    bottom:30px;\n    width:100%;\n    -webkit-box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);\n    -moz-box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);\n    box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);\n    z-index: 100;\n}\n.list-barang ul li[data-v-53f30af0] {\n\n    padding-top: 15px;\n    padding-bottom: 15px;\n    padding-left: 10px;\n}\n.list-barang ul[data-v-53f30af0] {\n    list-style: none;\n    padding: 0px;\n}\n.list-barang ul li[data-v-53f30af0]:hover {\n    cursor:pointer;\n     background-color:rgb(233, 233, 233);\n}\n",""])},249:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),i=n(0),o=n(7);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e,n,a,r,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}var c,d,f={name:"barang.edit",data:function(){return{inventori:""}},mixins:[{data:function(){return{valid:!0,lazy:!1,loading:!1,harga:"",tempat_beli:"",barang:"",foto:"",nameRules:[function(t){return!!t||"Tidak Boleh Kosong"}],perkiraanRules:[function(t){return!!t||"Harus diisi"},function(t){return/^[0-9,]+$/.test(t)||"Format salah"},function(t){return t.split(",").join("")<=1e8||"Tidak boleh lebih dari 100 juta"}]}},methods:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(i.b)({setSnakbar:"snakbar/setSnakbar"}),{eventChangePembelian:function(t){var e=t.target.files;this.foto=e[0]},formatAsCurrency:function(t,e){return e=e||0,null===t?null:""+t.toFixed(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}}),computed:{harga_convert:{get:function(){return this.formatAsCurrency(this.harga,0)},set:function(t){this.harga=Number(t.replace(/[^0-9\.]/g,""))}}},mixins:[o.a],created:function(){}},n(57).a],methods:{save:(c=r.a.mark((function t(){var e,n,a=this;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e="pembelian/"+this.$route.params.id_detail+"/edit",(n=new FormData).append("harga",this.harga),n.append("tempat_beli",this.tempat_beli),n.append("foto",this.foto),n.append("user",this.user),n.append("id_lantai",this.id_lantai),n.append("id_ruangan",this.id_ruangan),n.append("detail",this.detail),n.append("foto_inventori",this.foto_inventori),t.next=13,this.axios.post(e,n,this.config).then((function(t){a.setSnakbar({status:!0,pesan:t.data.message,color_snakbar:"success"}),a.$router.go(-1)})).catch((function(t){400==t.response.status?a.setSnakbar({color_snakbar:"red",status:!0,pesan:t.response.data.message}):a.setSnakbar({status:!0,color_snakbar:"red",pesan:"Terjadi Kesalahan"}),console.log(t.response)}));case 13:this.loading=!1;case 14:case"end":return t.stop()}}),t,this)})),d=function(){var t=this,e=arguments;return new Promise((function(n,a){var r=c.apply(t,e);function i(t){u(r,n,a,i,o,"next",t)}function o(t){u(r,n,a,i,o,"throw",t)}i(void 0)}))},function(){return d.apply(this,arguments)}),go:function(){var t=this,e="pembelian/"+this.$route.params.id_detail+"/edit";this.axios.get(e,this.config).then((function(e){var n=e.data.data;t.barang=n.barang,t.inventori=n.inventori,t.harga=n.harga?n.harga:0,t.tempat_beli=n.tempat_beli?n.tempat_beli:""})).catch((function(t){return console.log(t.response)}))}},created:function(){this.go(),this.getLantaiRuangan()}},p=(n(237),n(2)),g=Object(p.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-container",[n("BtnJudul",{attrs:{text:"Input pembelian Barang"}}),t._v(" "),n("v-card",{style:t.border,attrs:{tile:""}},[n("v-card-text",[n("v-container",[n("v-form",{ref:"form",attrs:{"lazy-validation":t.lazy},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",rules:t.nameRules,label:"Nama barang",required:"",disabled:""},model:{value:t.barang,callback:function(e){t.barang=e},expression:"barang"}}),t._v(" "),n("v-text-field",{attrs:{outlined:"",rules:t.perkiraanRules,label:"Harga Satuan",required:""},model:{value:t.harga_convert,callback:function(e){t.harga_convert=e},expression:"harga_convert"}}),t._v(" "),n("v-text-field",{attrs:{outlined:"",rules:t.nameRules,label:"Tempat Beli",required:""},model:{value:t.tempat_beli,callback:function(e){t.tempat_beli=e},expression:"tempat_beli"}}),t._v(" "),n("label",{attrs:{for:""}},[t._v("Foto Struk")]),t._v(" "),n("input",{ref:"foto_profile",attrs:{type:"file",id:"foto_profile",accept:"image/*",required:""},on:{change:t.eventChangePembelian}})],1),t._v(" "),""==t.inventori?n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticStyle:{position:"relative",width:"100%"}},[n("v-text-field",{staticStyle:{position:"relative"},attrs:{outlined:"",rules:t.nameRules,label:"Penanggung Jawab",required:""},on:{keyup:t.getUser},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),t._v(" "),t.users.length>0?n("div",{staticClass:"list-barang"},[n("ul",t._l(t.users,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.select_user(e.name)}}},[t._v(t._s(e.name))])})),0)]):t._e()],1),t._v(" "),n("v-text-field",{attrs:{outlined:"",rules:t.nameRules,label:"Detail barang",required:""},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}}),t._v(" "),n("v-select",{attrs:{items:t.lantais,rules:[function(t){return!!t||"Item is required"}],label:"Lantai","item-text":"lantai","item-value":"id",required:""},on:{change:function(e){return t.lantaiChange(t.id_lantai)}},model:{value:t.id_lantai,callback:function(e){t.id_lantai=e},expression:"id_lantai"}}),t._v(" "),n("v-select",{attrs:{items:t.ruangan_filter,rules:[function(t){return!!t||"Item is required"}],label:"Ruangan","item-text":"ruangan","item-value":"id",required:""},model:{value:t.id_ruangan,callback:function(e){t.id_ruangan=e},expression:"id_ruangan"}}),t._v(" "),n("v-text-field",{staticStyle:{display:"none"},attrs:{outlined:"",rules:t.nameRules,label:"Detail barang",required:""},model:{value:t.foto,callback:function(e){t.foto=e},expression:"foto"}}),t._v(" "),n("input",{attrs:{type:"file"},on:{change:t.eventChange}}),t._v(" "),n("span",[t._v("Foto Barang")]),t._v(" "),t.imgurl?n("v-img",{attrs:{src:t.imgurl,width:"100%",height:"300px"}}):t._e()],1):t._e()],1),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",align:"right"}},[n("v-btn",{attrs:{disabled:!t.valid,color:"success",tile:"",loading:t.loading},on:{click:function(e){return t.save()}}},[t._v("\n                            Simpan\n                            ")])],1)],1)],1)],1)],1),t._v(" "),n("v-card-actions",{})],1)],1)],1)}),[],!1,null,"53f30af0",null);e.default=g.exports},57:function(t,e,n){"use strict";var a,r,i=n(1),o=n.n(i),s=n(0),l=n(7);function u(t,e,n,a,r,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function o(t){u(i,a,r,o,s,"next",t)}function s(t){u(i,a,r,o,s,"throw",t)}o(void 0)}))}}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={data:function(){return{valid:!0,lazy:!1,loading:!1,barang:"",user:"",id_lantai:"",id_ruangan:"",detail:"",lantais:[],ruangans:[],barangs:[],ruangan_filter:[],users:[],foto_inventori:"",imgurl:"",nameRules:[function(t){return!!t||"Tidak Boleh Kosong"}],status:"",status_pilihan:[{value:0,text:"Baik"},{value:1,text:"Rusak"}]}},methods:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(s.b)({setSnakbar:"snakbar/setSnakbar"}),{getLantaiRuangan:function(){var t=this;this.axios.get("/inventori/create",this.config).then((function(e){t.lantais=e.data.lantai,t.ruangans=e.data.ruangan})).catch((function(t){return console.log(t)}))},lantaiChange:function(t){this.ruangan_filter=this.ruangans.filter((function(e){return e.id_lantai===t}))},getUser:(r=c(o.a.mark((function t(){var e=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("users?keyword="+this.user,this.config).then((function(t){e.users=t.data.data})).catch((function(t){console.log(t.response)}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)}),get_barang:(a=c(o.a.mark((function t(){var e=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.axios.get("pengajuan/create?keyword="+this.barang,this.config).then((function(t){t.data.barang.length>0?e.barangs=t.data.barang:e.barangs=[]})).catch((function(t){console.log(t.response)}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)}),select_barang:function(t){this.barang=t,this.barangs=[]},select_user:function(t){this.user=t,this.users=[]},eventChange:function(t){var e=this,n=t.target.files;this.foto_inventori=n[0];var a=new FileReader;a.addEventListener("load",(function(){e.imgurl=a.result})),a.readAsDataURL(this.foto_inventori)}}),mixins:[l.a],created:function(){}}},76:function(t,e,n){var a=n(238);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(12)(a,r);a.locals&&(t.exports=a.locals)}}]);